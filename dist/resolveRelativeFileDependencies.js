import { resolve } from "./path.js";
function transformVersionString(version, appRootPath) {
    if (version.startsWith("file:") && version[5] !== "/") {
        return "file:" + resolve(appRootPath, version.slice(5));
    }
    else {
        return version;
    }
}
export function resolveRelativeFileDependencies(appRootPath, resolutions) {
    const result = {};
    for (const packageName of Object.keys(resolutions)) {
        result[packageName] = transformVersionString(resolutions[packageName], appRootPath);
    }
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZVJlbGF0aXZlRmlsZURlcGVuZGVuY2llcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9yZXNvbHZlUmVsYXRpdmVGaWxlRGVwZW5kZW5jaWVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxXQUFXLENBQUE7QUFFbkMsU0FBUyxzQkFBc0IsQ0FBQyxPQUFlLEVBQUUsV0FBbUI7SUFDbEUsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUN0RCxPQUFPLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUN6RCxDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sT0FBTyxDQUFBO0lBQ2hCLENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLCtCQUErQixDQUM3QyxXQUFtQixFQUNuQixXQUE4QztJQUU5QyxNQUFNLE1BQU0sR0FBRyxFQUF1QyxDQUFBO0lBQ3RELEtBQUssTUFBTSxXQUFXLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxzQkFBc0IsQ0FDMUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUN4QixXQUFXLENBQ1osQ0FBQTtJQUNILENBQUM7SUFDRCxPQUFPLE1BQU0sQ0FBQTtBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNvbHZlIH0gZnJvbSBcIi4vcGF0aC5qc1wiXG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVZlcnNpb25TdHJpbmcodmVyc2lvbjogc3RyaW5nLCBhcHBSb290UGF0aDogc3RyaW5nKSB7XG4gIGlmICh2ZXJzaW9uLnN0YXJ0c1dpdGgoXCJmaWxlOlwiKSAmJiB2ZXJzaW9uWzVdICE9PSBcIi9cIikge1xuICAgIHJldHVybiBcImZpbGU6XCIgKyByZXNvbHZlKGFwcFJvb3RQYXRoLCB2ZXJzaW9uLnNsaWNlKDUpKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2ZXJzaW9uXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSZWxhdGl2ZUZpbGVEZXBlbmRlbmNpZXMoXG4gIGFwcFJvb3RQYXRoOiBzdHJpbmcsXG4gIHJlc29sdXRpb25zOiB7IFtwYWNrYWdlTmFtZTogc3RyaW5nXTogc3RyaW5nIH0sXG4pIHtcbiAgY29uc3QgcmVzdWx0ID0ge30gYXMgeyBbcGFja2FnZU5hbWU6IHN0cmluZ106IHN0cmluZyB9XG4gIGZvciAoY29uc3QgcGFja2FnZU5hbWUgb2YgT2JqZWN0LmtleXMocmVzb2x1dGlvbnMpKSB7XG4gICAgcmVzdWx0W3BhY2thZ2VOYW1lXSA9IHRyYW5zZm9ybVZlcnNpb25TdHJpbmcoXG4gICAgICByZXNvbHV0aW9uc1twYWNrYWdlTmFtZV0sXG4gICAgICBhcHBSb290UGF0aCxcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIl19