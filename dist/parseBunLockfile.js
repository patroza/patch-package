import { spawnSync } from "child_process";
// Adapted from https://github.com/oven-sh/bun/blob/ffe4f561a3af53b9f5a41c182de55d7199b5d692/packages/bun-vscode/src/features/lockfile.ts#L39,
// rewritten to use spawnSync instead of spawn.
export function parseBunLockfile(lockFilePath) {
    const process = spawnSync("bun", [lockFilePath], {
        stdio: ["ignore", "pipe", "pipe"],
    });
    if (process.status !== 0) {
        throw new Error(`Bun exited with code: ${process.status}\n${process.stderr.toString()}`);
    }
    return process.stdout.toString();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VCdW5Mb2NrZmlsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9wYXJzZUJ1bkxvY2tmaWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUE7QUFFekMsOElBQThJO0FBQzlJLCtDQUErQztBQUMvQyxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsWUFBb0I7SUFDbkQsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQy9DLEtBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO0tBQ2xDLENBQUMsQ0FBQTtJQUNGLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FDYix5QkFBeUIsT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQ3hFLENBQUE7S0FDRjtJQUNELE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQTtBQUNsQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3Bhd25TeW5jIH0gZnJvbSBcImNoaWxkX3Byb2Nlc3NcIlxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL292ZW4tc2gvYnVuL2Jsb2IvZmZlNGY1NjFhM2FmNTNiOWY1YTQxYzE4MmRlNTVkNzE5OWI1ZDY5Mi9wYWNrYWdlcy9idW4tdnNjb2RlL3NyYy9mZWF0dXJlcy9sb2NrZmlsZS50cyNMMzksXG4vLyByZXdyaXR0ZW4gdG8gdXNlIHNwYXduU3luYyBpbnN0ZWFkIG9mIHNwYXduLlxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQnVuTG9ja2ZpbGUobG9ja0ZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwcm9jZXNzID0gc3Bhd25TeW5jKFwiYnVuXCIsIFtsb2NrRmlsZVBhdGhdLCB7XG4gICAgc3RkaW86IFtcImlnbm9yZVwiLCBcInBpcGVcIiwgXCJwaXBlXCJdLFxuICB9KVxuICBpZiAocHJvY2Vzcy5zdGF0dXMgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQnVuIGV4aXRlZCB3aXRoIGNvZGU6ICR7cHJvY2Vzcy5zdGF0dXN9XFxuJHtwcm9jZXNzLnN0ZGVyci50b1N0cmluZygpfWAsXG4gICAgKVxuICB9XG4gIHJldHVybiBwcm9jZXNzLnN0ZG91dC50b1N0cmluZygpXG59XG4iXX0=