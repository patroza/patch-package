import { join } from "./path.js";
import fsExtra from "fs-extra";
import klawSync from "klaw-sync";
export function removeIgnoredFiles(dir, includePaths, excludePaths) {
    klawSync(dir, { nodir: true })
        .map((item) => item.path.slice(`${dir}/`.length))
        .filter((relativePath) => !relativePath.match(includePaths) || relativePath.match(excludePaths))
        .forEach((relativePath) => fsExtra.removeSync(join(dir, relativePath)));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyRmlsZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvZmlsdGVyRmlsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUNoQyxPQUFPLE9BQU8sTUFBTSxVQUFVLENBQUE7QUFDOUIsT0FBTyxRQUFRLE1BQU0sV0FBVyxDQUFBO0FBRWhDLE1BQU0sVUFBVSxrQkFBa0IsQ0FDaEMsR0FBVyxFQUNYLFlBQW9CLEVBQ3BCLFlBQW9CO0lBRXBCLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUM7U0FDM0IsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2hELE1BQU0sQ0FDTCxDQUFDLFlBQVksRUFBRSxFQUFFLENBQ2YsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQ3hFO1NBQ0EsT0FBTyxDQUFDLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQzNFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqb2luIH0gZnJvbSBcIi4vcGF0aC5qc1wiXG5pbXBvcnQgZnNFeHRyYSBmcm9tIFwiZnMtZXh0cmFcIlxuaW1wb3J0IGtsYXdTeW5jIGZyb20gXCJrbGF3LXN5bmNcIlxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSWdub3JlZEZpbGVzKFxuICBkaXI6IHN0cmluZyxcbiAgaW5jbHVkZVBhdGhzOiBSZWdFeHAsXG4gIGV4Y2x1ZGVQYXRoczogUmVnRXhwLFxuKSB7XG4gIGtsYXdTeW5jKGRpciwgeyBub2RpcjogdHJ1ZSB9KVxuICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0ucGF0aC5zbGljZShgJHtkaXJ9L2AubGVuZ3RoKSlcbiAgICAuZmlsdGVyKFxuICAgICAgKHJlbGF0aXZlUGF0aCkgPT5cbiAgICAgICAgIXJlbGF0aXZlUGF0aC5tYXRjaChpbmNsdWRlUGF0aHMpIHx8IHJlbGF0aXZlUGF0aC5tYXRjaChleGNsdWRlUGF0aHMpLFxuICAgIClcbiAgICAuZm9yRWFjaCgocmVsYXRpdmVQYXRoKSA9PiBmc0V4dHJhLnJlbW92ZVN5bmMoam9pbihkaXIsIHJlbGF0aXZlUGF0aCkpKVxufVxuIl19